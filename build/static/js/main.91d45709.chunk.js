(this["webpackJsonpbkfs-test-1"]=this["webpackJsonpbkfs-test-1"]||[]).push([[0],{206:function(e,t,a){e.exports=a(371)},214:function(e,t){},216:function(e,t){},217:function(e,t){},218:function(e,t){},219:function(e,t){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a(74),i=(a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265),a(6)),s=a(7),l=a(8),u=a(9),d="classification",p="extraction",m="home",h="DOCUMENT_TYPES",D="CUSTOMER_NAMES",f=a(4),E=a(12),v=new function(){this.ServerURL="http://localhost:9090/",this.GetCustomerList=this.ServerURL+"customerList",this.GetDocumentTypes=this.ServerURL+"documentTypes",this.GetSelectedCustomerData=this.ServerURL+"selectedCustomerData",this.SaveTableData=this.ServerURL+"updateCustomerData",this.GetGroupedElementsByDocId=this.ServerURL+"getGroupedDocumentElements",this.GetSampleDocumentByDocId=this.ServerURL+"getSampleDocument",this.GetAllGroupsCSVData=this.ServerURL+"getAllGroupsCSVData",this.SaveGroupedElementData=this.ServerURL+"saveGroupedDocumentElements",this.AddNewCustomer=this.ServerURL+"addNewCustomer",this.AddNewDocumentType=this.ServerURL+"addNewDocumentType",this.AddNewDocumentSample=this.ServerURL+"addNewDocumentSample"},b=a(18),C=a.n(b),g=function(e){return{type:"HANDLE_SCREEN_CHANGED",screenName:e}},y=function(e,t){return{type:"HANDLE_CLASSIFICATION_DROP_DOWN_ON_BLUR",dropdownButtonType:e,selectedItems:t}},O=function(e,t,a){return{type:"HANDLE_TABLE_CELL_DATA_CHANGED",customerName:e,docName:t,newVal:a}},N=function(e){return{type:"HANDLE_TABLE_SAVE_DISCARD_CLICKED",buttonType:e}},T=function(e,t){return{type:"HANDLE_EXTRACTION_DROP_DOWN_ON_BLUR",dropdownButtonType:e,selectedItems:t}},j=function(e,t){return{type:"HANDLE_EXTRACTION_LIST_DRAG_END",source:e,destination:t}},A=function(e){console.log(e)};function k(e,t){return function(t){return C.a.post(v.GetSelectedCustomerData,{selectedCustomerIds:e}).then((function(e){t({type:"HANDLE_CLASSIFICATION_CREATE_BUTTON_CLICKED",customerData:e.data})})).catch((function(e){return t(A(e))}))}}function S(e){return function(t){return C.a.post(v.SaveTableData,{dirtyCustomerData:e}).then((function(e){console.log("save succesful")})).catch((function(e){return t(A(e))}))}}function w(e){return function(t){return C.a.get(v.GetGroupedElementsByDocId,{params:{documentId:e}}).then((function(e){t({type:"HANDLE_EXTRACTION_CREATE_BUTTON_CLICKED",groupedElements:e.data})})).catch((function(e){return t(A(e))}))}}function L(e,t){return function(a){return C.a.post(v.SaveGroupedElementData,{selectedDocumentId:t,groupedDocumentElements:e}).then((function(e){a({type:"HANDLE_EXTRACTION_SAVE_AFTER_EFFECTS"})})).catch((function(e){return a(A(e))}))}}function _(e){return function(t){return C.a.post(v.AddNewCustomer,{newCustomerName:e}).then((function(e){t({type:"HANDLE_NEW_CUSTOMER_ADDED_AFTER_EFFECTS",newCustomerData:e.data})})).catch((function(e){return t(A(e))}))}}function x(e){return function(t){return C.a.post(v.AddNewDocumentType,{newDocumentTypeName:e}).then((function(e){t({type:"HANDLE_NEW_DOC_TYPE_ADDED_AFTER_EFFECTS",newCustomerData:e.data})})).catch((function(e){return t(A(e))}))}}var I=a(196),B=a(17),R=a(393),P=a(11),V=Object(I.a)(),F={margin:{margin:V.spacing(1)},extendedIcon:{marginRight:V.spacing(1)}},G=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleButtonClicked=function(e,t){t.stopPropagation(),n.props.dispatch(g(e))},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:"buttonWrapper"},r.a.createElement(R.a,{variant:"contained",size:"large",className:e.margin,onClick:this.handleButtonClicked.bind(this,d)},"Classification"),r.a.createElement(R.a,{variant:"contained",size:"large",className:e.margin,onClick:this.handleButtonClicked.bind(this,p)},"Extraction"))}}]),a}(r.a.Component);var U=Object(P.b)((function(e){return e}),(function(e){var t=Object(E.b)({homeButtonClicked:g});return Object(f.a)({},t,{dispatch:e})}))(G),H=Object(B.a)(F)(U),M=a(398),K=M.a.TabPane,W=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"tabViewWrapper card-container"},r.a.createElement(M.a,{type:"card"},r.a.createElement(K,{tab:this.props.label,key:"1"},this.props.body)))}}]),a}(r.a.Component),X=a(21),z=a(399),Y=z.a.Option,J=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.selected=e,n.props.selectAll&&e.includes("selectAll")&&(n.selected=n.props.childElements.map((function(e){return e.id})),n.customKey=Math.random(),n.handleBlur()),n.props.onChange&&n.props.onChange(n.selected)},n.handleBlur=function(){n.props.onBlur&&n.props.onBlur(n.selected)},n.handleKeyDown=function(e){n.props.onEnterPress&&13===e.keyCode&&(n.props.onEnterPress(e.target.value),n.customKey=Math.random())},n.selected=[],n.customKey="",n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"getChildren",value:function(){var e=[];if(this.props.selectAll){var t=this.props.selected.length===this.props.childElements.length;e.push(r.a.createElement(Y,{disabled:t,key:"selectAll"},"Select All"))}var a,n=Object(X.a)(this.props.childElements);try{for(n.s();!(a=n.n()).done;){var c=a.value;e.push(r.a.createElement(Y,{key:c.id},c.label))}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"render",value:function(){return r.a.createElement("div",{className:"mssViewWrapper",key:this.customKey},r.a.createElement("div",{className:"mssLabel"},this.props.label),r.a.createElement(z.a,{allowClear:!!this.props.allowClear,mode:this.props.isMultiple?"multiple":"",style:{width:"100%"},placeholder:"Please select",defaultValue:this.props.selected||[],onChange:this.handleChange,onBlur:this.handleBlur,disabled:this.props.disabled,onInputKeyDown:this.handleKeyDown},this.getChildren()))}}]),a}(r.a.Component);var $=Object(P.b)((function(e){return e}),null)(J),q=a(22),Q=a.n(q),Z=a(405),ee=a(400),te=a(394),ae=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClassificationDropDownOnBlur=function(t,a){e.props.dispatch(y(t,a))},e.handleCreateButtonClicked=function(){var t=e.props.selectedCustomers;e.props.selectedDocuments;e.props.dispatch(k(t))},e.handleNewCustomerAdded=function(t){e.props.dispatch(_(t))},e.handleNewDocumentTypeAdded=function(t){e.props.dispatch(x(t))},e}return Object(s.a)(a,[{key:"createDropDownListModel",value:function(e){var t=[];for(var a in e){var n=e[a];t.push({id:n.id,label:n.label})}return t}},{key:"getCustomerDropdownView",value:function(){var e=this.createDropDownListModel(this.props.customerList),t=this.props.customerData.hasOwnProperty("clonedObject");return r.a.createElement($,{key:D,label:"Customer Names",childElements:e,onChange:this.handleClassificationDropDownOnBlur.bind(this,D),isMultiple:!0,allowClear:!0,disabled:t,selected:this.props.selectedCustomers,onEnterPress:this.handleNewCustomerAdded,selectAll:!0})}},{key:"getDocumentDropdownView",value:function(){var e=this.createDropDownListModel(this.props.documentTypes),t=this.props.customerData.hasOwnProperty("clonedObject");return r.a.createElement($,{key:h,label:"Document Types",childElements:e,onChange:this.handleClassificationDropDownOnBlur.bind(this,h),isMultiple:!0,allowClear:!0,disabled:t,selected:this.props.selectedDocuments,onEnterPress:this.handleNewDocumentTypeAdded,selectAll:!0})}},{key:"getFooterButtonView",value:function(){if(Q.a.isEmpty(this.props.selectedDocuments)||this.props.customerData.hasOwnProperty("clonedObject")){var e=Q.a.isEmpty(this.props.selectedDocuments)?"Please select at least one document type.":"There are unsaved changes in table. Please save or discard them first.";return r.a.createElement(Z.a,{content:e},r.a.createElement(ee.a,{disabled:!0,onClick:this.handleCreateButtonClicked},"Create"))}return r.a.createElement(ee.a,{onClick:this.handleCreateButtonClicked},"Create")}},{key:"render",value:function(){return r.a.createElement("div",{className:"classificationSelectionContainer"},r.a.createElement("div",{className:"dropDownsContainer"},r.a.createElement("div",{className:"customerDropdown"},this.getCustomerDropdownView()),r.a.createElement(te.a,null),r.a.createElement("div",{className:"documentTypeDropdown"},this.getDocumentDropdownView()),r.a.createElement(te.a,null)),r.a.createElement("div",{className:"buttonFooter"},this.getFooterButtonView()))}}]),a}(r.a.Component);var ne=Object(P.b)((function(e){return e}),(function(e){var t=Object(E.b)({homeButtonClicked:g});return Object(f.a)({},t,{dispatch:e})}))(ae),re=a(78),ce=a(108),oe=a(404),ie=a(403),se=a(406),le=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).uploadFile=function(e){var t=e.target.files[0],a=new FormData;a.append("file",t),a.append("documentId",n.props.documentId),C.a.post(v.AddNewDocumentSample,a,{headers:{"content-type":"multipart/form-data"}}).then((function(e){n.props.handleFileUploadSuccess(e.data)}))},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"pdfUploadContainer"},r.a.createElement(ee.a,{icon:r.a.createElement(se.a,null),className:"pdfUploadAntBtn",size:"small"},"Upload",r.a.createElement("input",{className:"pdfUploadInput",type:"file",name:"file",accept:"application/pdf",onChange:this.uploadFile})))}}]),a}(r.a.Component),ue=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={numPages:null,pageNumber:1,fileData:null,customKey:""},n.onDocumentLoadSuccess=function(e){var t=e.numPages;n.setState({numPages:t})},n.goToPrevPage=function(){var e=n.state.pageNumber,t=e-1===0?n.state.numPages:e-1;n.setState({pageNumber:t})},n.goToNextPage=function(){var e=n.state.pageNumber,t=e===n.state.numPages?1:e+1;n.setState({pageNumber:t})},n.showNoDataDiv=function(){return n.navRef&&n.navRef.current&&n.navRef.current.classList&&n.navRef.current.classList.add("noDisplay"),r.a.createElement("div",{className:"emptyPdf"},r.a.createElement(re.a,null))},n.showErrorDiv=function(){return n.navRef&&n.navRef.current&&n.navRef.current.classList&&n.navRef.current.classList.add("noDisplay"),r.a.createElement("div",{className:"emptyPdf"},r.a.createElement(re.a,null))},n.handleFileUploadSuccess=function(e){n.setState({fileData:"data:application/pdf;base64,".concat(e),numPages:null,pageNumber:1,customKey:Math.random()})},n.getFileUploadDOM=function(){return n.props.enableFileUpload?r.a.createElement("div",{className:"pdfViewFileUploader"},r.a.createElement(le,{documentId:n.props.documentId,handleFileUploadSuccess:n.handleFileUploadSuccess})):null},n.getNavigationDOM=function(){if(!n.state.fileData)return null;var e=n.state,t=e.pageNumber,a=e.numPages;return r.a.createElement("div",{className:"navigationWrapper",ref:n.navRef,key:n.state.customKey},r.a.createElement("div",{className:"navChild prev"},r.a.createElement(ee.a,{icon:r.a.createElement(oe.a,null),size:"small",onClick:n.goToPrevPage})),r.a.createElement("div",{className:"navChild pageNumber"},"  ",t," / ",a),r.a.createElement("div",{className:"navChild next"},r.a.createElement(ee.a,{icon:r.a.createElement(ie.a,null),size:"small",onClick:n.goToNextPage})))},n.navRef=r.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.a.get(v.GetSampleDocumentByDocId,{params:{documentId:this.props.documentId}}).then((function(t){var a=t.data;e.setState({fileData:"data:application/pdf;base64,".concat(a)})})).catch((function(e){return console.log()}))}},{key:"render",value:function(){var e=this.state.pageNumber,t=this.getNavigationDOM();return r.a.createElement("div",{className:"pdfViewerContainer"},r.a.createElement("div",{className:"documentWrapper"},r.a.createElement(o.Document,{file:this.state.fileData,onLoadSuccess:this.onDocumentLoadSuccess,noData:this.showNoDataDiv,error:this.showErrorDiv,onLoadError:console.error},r.a.createElement(o.Page,{pageNumber:e,width:600}))),t,this.getFileUploadDOM())}}]),a}(n.Component),de=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleTextChanged=function(t,a,n){var r=n.target.value;e.props.onTableCellDataChanged(t,a,r)},e.getPDFViewerView=function(e){return r.a.createElement("div",{className:"gridPDFViewWrapper"},r.a.createElement(ue,{documentId:e,enableFileUpload:!0}))},e.handleSaveButtonCLicked=function(){e.props.onSave()},e.handleDiscardButtonClicked=function(){e.props.onDiscard()},e}return Object(s.a)(a,[{key:"getTableHeader",value:function(){var e=this.props.headerData,t=[];return e.forEach((function(e){t.push(r.a.createElement("th",null,r.a.createElement("div",{className:"gridViewHeaderWrapper"},r.a.createElement("div",{className:"gridViewHeaderText"},e.label))))})),r.a.createElement("tr",null,t)}},{key:"getTableBody",value:function(){var e,t=this.props.tableData,a=this.props.headerData,n=[],c=Object(X.a)(t);try{for(c.s();!(e=c.n()).done;){for(var o=e.value,i=[],s=o.documentName,l=o.documentId,u=(o.file,o.rowData),d=0;d<a.length;d++){a[d].label;var p=a[d].id,m=u[p],h=null;h=0===d?r.a.createElement(Z.a,{title:s,content:this.getPDFViewerView(l)},r.a.createElement("div",{key:d,className:"tableFixedColumn"},s)):r.a.createElement("input",{className:"tableCellInput",key:p+"%$$%"+l,value:m,onChange:this.handleTextChanged.bind(this,p,l)}),i.push(r.a.createElement("td",null,r.a.createElement("div",null,h)))}n.push(r.a.createElement("tr",{className:"tableRow"},i))}}catch(D){c.e(D)}finally{c.f()}return n}},{key:"getSaveDiscardButtons",value:function(){var e=[],t=r.a.createElement("div",{className:"exportButton buttonClass"},r.a.createElement(ee.a,null,r.a.createElement(ce.CSVLink,{data:this.props.csvData},"Export")));if(e.push(t),this.props.classificationTableData.isDirty){var a=r.a.createElement("div",{className:"saveButton buttonClass"},r.a.createElement(ee.a,{onClick:this.handleSaveButtonCLicked},"Save"));e.push(a);var n=r.a.createElement("div",{className:"discardButton buttonClass"},r.a.createElement(ee.a,{onClick:this.handleDiscardButtonClicked},"Discard"));e.push(n)}return e}},{key:"render",value:function(){return this.props.headerData&&this.props.headerData.length?r.a.createElement("div",{className:"gridTableContainer"},r.a.createElement("div",{className:"gridSaveDiscardContainer"},this.getSaveDiscardButtons()),r.a.createElement("div",{className:"gridTableContainerWrapper"},r.a.createElement("table",{className:"gridTableContainer"},r.a.createElement("thead",{className:"gridTableHeader"},this.getTableHeader()),r.a.createElement("tbody",{className:"gridTableBody"},this.getTableBody())))):r.a.createElement("div",{className:"empty"},r.a.createElement(re.a,null))}}]),a}(r.a.Component);var pe=Object(P.b)((function(e){return e}),null)(de),me=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleTableCellDataChanged=function(t,a,n){e.props.dispatch(O(t,a,n))},e.handleTableSaveDiscardClicked=function(t){"save"===t&&e.props.dispatch(S(e.props.customerData.clonedObject)),e.props.dispatch(N(t))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){return C.a.all([C.a.get(v.GetCustomerList),C.a.get(v.GetDocumentTypes)]).then(C.a.spread((function(t,a){var n,r;e((n=t.data,r=a.data,{type:"SET_CLASSIFICATION_SCREEN_ON_LOAD_DATA",customerList:n,documentTypes:r}))}))).catch((function(t){return e(A(t))}))}))}},{key:"getTabBody",value:function(){var e=this.props.classificationTableData.isDirty?this.props.classificationTableData.clonedObject:this.props.classificationTableData;return r.a.createElement("div",{className:"classificationScreen"},r.a.createElement("div",{className:"leftPanel"},r.a.createElement(ne,null)),r.a.createElement("div",{className:"rightPanel"},r.a.createElement(pe,{headerData:e.headerData,tableData:e.bodyData,onTableCellDataChanged:this.handleTableCellDataChanged,onSave:this.handleTableSaveDiscardClicked.bind(this,"save"),onDiscard:this.handleTableSaveDiscardClicked.bind(this,"discard"),csvData:this.props.csvData})))}},{key:"render",value:function(){return r.a.createElement(W,{label:"Classification",body:this.getTabBody()})}}]),a}(r.a.Component);var he=Object(P.b)((function(e){return e}),(function(e){var t=Object(E.b)({homeButtonClicked:g});return Object(f.a)({},t,{dispatch:e})}))(me),De=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleExtractionDropDownOnBlur=function(t,a){a.length&&e.props.dispatch(T(t,a))},e.handleCreateButtonClicked=function(){var t=e.props.selectedDocuments[0];e.props.dispatch(w(t))},e}return Object(s.a)(a,[{key:"createDropDownListModel",value:function(e){var t=[];for(var a in e){var n=e[a];t.push({id:n.id,label:n.label})}return t}},{key:"getDocumentDropdownView",value:function(){var e=this.createDropDownListModel(this.props.documentTypes);return r.a.createElement($,{key:h,label:"Document Types",childElements:e,disabled:this.props.isExtractionListDirty,onChange:this.handleExtractionDropDownOnBlur.bind(this,h)})}},{key:"getCreateButtonView",value:function(){var e=this.props.isExtractionListDirty||!this.props.selectedDocuments||!this.props.selectedDocuments.length;if(e){var t=this.props.isExtractionListDirty?"There are unsaved changes in the list order. Please save or discard them first.":"Please select at least one document type.";return r.a.createElement(Z.a,{content:t},r.a.createElement(ee.a,{onClick:this.handleCreateButtonClicked,disabled:!0},"Create"))}return r.a.createElement(ee.a,{onClick:this.handleCreateButtonClicked,disabled:e},"Create")}},{key:"render",value:function(){return r.a.createElement("div",{className:"extractionSelectionContainer"},r.a.createElement("div",{className:"dropDownsContainer"},r.a.createElement("div",{className:"documentTypeDropdown"},this.getDocumentDropdownView()),r.a.createElement(te.a,null)),r.a.createElement("div",{className:"buttonFooter"},this.getCreateButtonView()))}}]),a}(r.a.Component);var fe=Object(P.b)((function(e){return e}),(function(e){var t=Object(E.b)({homeButtonClicked:g});return Object(f.a)({},t,{dispatch:e})}))(De),Ee=a(102),ve=a(90),be=a(198),Ce=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"getDraggableListNodes",value:function(){return this.props.items.map((function(e,t){return r.a.createElement(ve.b,{key:e.id,draggableId:e.id,index:t},(function(t,a){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:(n=a.isDragging,c=t.draggableProps.style,Object(f.a)({background:n?"#f0f0f0":"#fff"},c)),className:"draggableListNode"}),r.a.createElement(be.a,{title:e.label,mouseEnterDelay:.5},e.label));var n,c}))}))}},{key:"getGroupLabelView",value:function(){return r.a.createElement("div",{className:"groupListLabel"},this.props.label)}},{key:"render",value:function(){var e=this;return r.a.createElement(ve.c,{droppableId:this.props.droppableId},(function(t,a){return r.a.createElement("div",{ref:t.innerRef,style:(n=a.isDraggingOver,{background:n?"lightblue":"#fff"}),className:"draggableListGroup"},e.getGroupLabelView(),e.getDraggableListNodes(),t.placeholder);var n}))}}]),a}(r.a.Component);var ge=Object(P.b)((function(e){return e}),null)(Ce),ye=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onDragEnd=function(t){var a=t.source,n=t.destination;if(n){var r={groupId:a.droppableId,index:a.index},c={groupId:n.droppableId,index:n.index};e.props.onDragEnd(r,c)}},e}return Object(s.a)(a,[{key:"getGroupedLists",value:function(){var e,t=this.props.lists,a=[],n=Object(X.a)(t);try{for(n.s();!(e=n.n()).done;){var c=e.value;a.push(r.a.createElement(ge,{key:c.id,droppableId:c.id,label:c.label,items:c.items}))}}catch(o){n.e(o)}finally{n.f()}return a}},{key:"render",value:function(){return r.a.createElement(ve.a,{onDragEnd:this.onDragEnd},this.getGroupedLists())}}]),a}(n.Component),Oe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).downloadTxtFile=function(){var t=document.createElement("a"),a=new Blob([e.props.data],{type:"text/plain"});t.href=URL.createObjectURL(a),t.download="exportedTextFile.txt",document.body.appendChild(t),t.click()},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(ee.a,{onClick:this.downloadTxtFile},"Export")}}]),a}(r.a.Component);var Ne=Object(P.b)((function(e){return e}),null)(Oe),Te=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={exportAllClicked:!1,exportAllData:null},e.handleExtractionListDragEnd=function(t,a){e.props.dispatch(j(t,a))},e.handleExportAllClicked=function(){var t=Object(Ee.a)(e);C.a.get(v.GetAllGroupsCSVData).then((function(e){var a=e.data;t.setState({exportAllData:a,exportAllClicked:!0})})).catch((function(e){return console.log()}))},e.handleExtractionSaveClicked=function(t){var a=e.props.selectedDocuments[0];e.props.dispatch(L(e.props.groupedDocumentElements,a))},e.handleExtractionDiscardClicked=function(){e.props.dispatch({type:"HANDLE_EXTRACTION_DISCARD_CLICKED"})},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){this.state.exportAllClicked=!1}},{key:"csvDownloadDOM",value:function(){return this.state.exportAllClicked?r.a.createElement(ce.CSVDownload,{key:Math.random(),data:this.state.exportAllData,target:"_blank"}):null}},{key:"getExtractionButtonsView",value:function(){var e=[],t=r.a.createElement("div",{className:"exportSingleButton buttonClass"},r.a.createElement(Ne,{data:this.props.textData}));e.push(t);var a=r.a.createElement("div",{className:"exportAllButton buttonClass"},r.a.createElement(ee.a,{onClick:this.handleExportAllClicked},"Export All",this.csvDownloadDOM()));if(e.push(a),this.props.isExtractionListDirty){var n=r.a.createElement("div",{className:"saveButton buttonClass"},r.a.createElement(ee.a,{onClick:this.handleExtractionSaveClicked.bind(this,"save")},"Save"));e.push(n);var c=r.a.createElement("div",{className:"saveButton buttonClass"},r.a.createElement(ee.a,{onClick:this.handleExtractionDiscardClicked},"Discard"));e.push(c)}return e}},{key:"getExtractionListViewPanel",value:function(){for(var e=this.props.groupedDocumentElements,t=[],a=0;a<e.length;a++){var n=e[a],c={};c.id=n.groupId,c.label="Group "+n.groupId,c.items=n.dataElements.map((function(e){return{id:e+Math.random(),label:e}})),t.push(c)}return t.length?r.a.createElement(ye,{key:this.props.extractionCreateClickedDocId,lists:t,onDragEnd:this.handleExtractionListDragEnd}):r.a.createElement("div",{key:this.props.extractionCreateClickedDocId,className:"emptyExtractionListPanel"},r.a.createElement(re.a,null))}},{key:"getPDFView",value:function(){var e=this.props.extractionCreateClickedDocId;return r.a.createElement(ue,{key:e,documentId:e})}},{key:"render",value:function(){var e;return e=this.props.extractionCreateClickedDocId?[r.a.createElement("div",{className:"extractionButtonContainer"},this.getExtractionButtonsView()),r.a.createElement("div",{className:"extractionDetailViewBodyContainer"},r.a.createElement("div",{className:"extractionListViewPanel"},this.getExtractionListViewPanel()),r.a.createElement("div",{className:"extractionPdfViewContainer"},this.getPDFView()))]:r.a.createElement("div",{className:"emptyExtractionDetailView"},r.a.createElement(re.a,null)),r.a.createElement("div",{className:"extractionDetailsContainer"},e)}}]),a}(r.a.Component);var je=Object(P.b)((function(e){return e}),(function(e){var t=Object(E.b)({homeButtonClicked:g});return Object(f.a)({},t,{dispatch:e})}))(Te),Ae=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){return C.a.get(v.GetDocumentTypes).then((function(t){e({type:"SET_EXTRACTION_SCREEN_ON_LOAD_DATA",documentTypes:t.data})})).catch((function(t){return e(A(t))}))}))}},{key:"getTabBody",value:function(){return r.a.createElement("div",{className:"extractionScreen"},r.a.createElement("div",{className:"leftPanel"},r.a.createElement(fe,null)),r.a.createElement("div",{className:"rightPanel"},r.a.createElement(je,null)))}},{key:"render",value:function(){return r.a.createElement(W,{label:"Extraction",body:this.getTabBody()})}}]),a}(r.a.Component);var ke=Object(P.b)((function(e){return e}),(function(e){var t=Object(E.b)({homeButtonClicked:g});return Object(f.a)({},t,{dispatch:e})}))(Ae),Se=a(401),we=Notification=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottomRight";Se.a[t]({message:e,placement:a})},Le=a(402),_e=a(395),xe=a(396),Ie=a(397),Be=a(193),Re=a.n(Be),Pe={root:{flexGrow:1},menuButton:{marginRight:Object(I.a)().spacing(2)},title:{flexGrow:1,color:"#ffffff"},appBar:{}},Ve=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleHomeClicked=function(e){e.stopPropagation(),n.props.isExtractionListDirty||n.props.isScreenDirty?we("There are unsaved changes. Please save or discard them before leaving screen!"):n.props.dispatch(g(m))},n}return Object(s.a)(a,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:"navBar",style:{backgroundColor:800}},r.a.createElement(Le.a,{position:"static"},r.a.createElement(_e.a,null,r.a.createElement(xe.a,{variant:"h6",className:e.title},"Black Knight"),r.a.createElement(Ie.a,{edge:"end","aria-label":"home","aria-haspopup":"true",color:"inherit",onClick:this.handleHomeClicked},r.a.createElement(Re.a,null)))))}}]),a}(r.a.Component);var Fe=Object(P.b)((function(e){return e}),(function(e){var t=Object(E.b)({homeButtonClicked:g});return Object(f.a)({},t,{dispatch:e})}))(Ve),Ge=Object(B.a)(Pe)(Fe),Ue=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getScreenToRender=function(){switch(n.props.currentScreen){case d:return r.a.createElement(he,null);case p:return r.a.createElement(ke,null);default:return r.a.createElement(H,null)}},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"appContainer"},r.a.createElement(Ge,null),r.a.createElement("div",{className:"screenContainer"},this.getScreenToRender()))}}]),a}(r.a.Component);var He=Object(P.b)((function(e){return e}),null)(Ue),Me=a(194),Ke=a(195),We={currentScreen:m,customerList:{},selectedCustomers:[],documentTypes:{},selectedDocuments:[],customerData:{},classificationTableData:{},csvData:[],originalCSVData:[],isScreenDirty:!1,groupedDocumentElements:[],originalGroupedDocumentElements:null,isExtractionListDirty:!1,textData:"",selectedDocumentSamples:{},extractionCreateClickedDocId:null},Xe=We,ze=function(){return Object(f.a)({},We)},Ye={makeObjectDirty:function(e){return e.clonedObject||(e.clonedObject=Q.a.cloneDeep(e),e.isDirty=!0),e},getDirtyData:function(e){return(e=this.makeObjectDirty(e)).clonedObject}},Je={setClassificationScreenOnLoadData:function(e,t,a){return Object(f.a)({},e,{customerList:t,documentTypes:a})},handleClassificationDropDownOnBlur:function(e,t,a){var n=Object(f.a)({},e);return t===D?Object.assign(n,{selectedCustomers:a}):Object.assign(n,{selectedDocuments:a}),n},createCSVData:function(e){var t,a=[],n=e.headerData,r=[],c=Object(X.a)(n);try{for(c.s();!(t=c.n()).done;){var o=t.value;r.push(o.label)}}catch(s){c.e(s)}finally{c.f()}a.push(r);var i=e.bodyData;return Q.a.forEach(i,(function(e){var t,r=e.rowData,c=[],o=Object(X.a)(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;c.push(r[i.id]||"")}}catch(s){o.e(s)}finally{o.f()}a.push(c)})),a},fetchSampleFiles:function(){},handleClassificationCreateButtonCLicked:function(e,t){var a=e.selectedDocuments,n=e.selectedCustomers,r=e.customerList,c=e.documentTypes,o=[];o.push({id:"document_types",label:"Document Types"});var i,s=Object(X.a)(n);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=r[l].label;o.push({id:l,label:u})}}catch(N){s.e(N)}finally{s.f()}var d,p=[],m=Object(X.a)(a);try{for(m.s();!(d=m.n()).done;){var h=d.value,D=c[h].label,E={};E.document_types=D;var v,b=Object(X.a)(n);try{for(b.s();!(v=b.n()).done;){var C=v.value;E[C]=t[C][D]||""}}catch(N){b.e(N)}finally{b.f()}var g={};g.documentId=h,g.documentName=D,g.rowData=E,p.push(g)}}catch(N){m.e(N)}finally{m.f()}var y={headerData:o,bodyData:p},O=this.createCSVData(y);return Object(f.a)({},e,{customerData:t,classificationTableData:y,csvData:O,originalCSVData:O})},handleTableCellDataChanged:function(e,t,a,n){var r=e.documentTypes[a].label;Ye.getDirtyData(e.customerData)[t][r]=n;var c=Ye.getDirtyData(e.classificationTableData),o=c.bodyData;o[Q.a.findIndex(o,(function(e){return e.documentId===a}))].rowData[t]=n;var i=this.createCSVData(c);return Object(f.a)({},e,{isScreenDirty:!0,csvData:i})},handleTableSaveDiscardClicked:function(e,t){var a=Object(f.a)({},e);if(Object.assign(a,{isScreenDirty:!1}),"save"===t){var n=e.customerData.clonedObject,r=e.classificationTableData.clonedObject;delete e.customerData.clonedObject,delete e.customerData.isDirty,delete e.classificationTableData.clonedObject,delete e.classificationTableData.isDirty,Object.assign(a,{customerData:n,classificationTableData:r}),Object.assign(a,{originalCSVData:e.csvData})}else{var c=e.customerData,o=e.classificationTableData;Object.assign(a,{customerData:c,classificationTableData:o}),Object.assign(a,{csvData:e.originalCSVData})}return delete e.customerData.clonedObject,delete e.customerData.isDirty,delete e.classificationTableData.clonedObject,delete e.classificationTableData.isDirty,a},handleNewCustomerAddedAfterEffects:function(e,t){var a=t.customerList,n=t.newCustomer,r=e.selectedCustomers.concat([n.id]);return Object(f.a)({},e,{customerList:a,selectedCustomers:r})},handleNewDocTypeAddedAfterEffects:function(e,t){var a=t.documentTypes,n=t.newDocumentType,r=e.selectedDocuments.concat([n.id]);return Object(f.a)({},e,{documentTypes:a,selectedDocuments:r})}},$e=a(136),qe={setExtractionScreenOnLoadData:function(e,t){return Object(f.a)({},e,{documentTypes:t})},handleExtractionDropDownOnBlur:function(e,t,a){return Object(f.a)({},e,{selectedDocuments:[a]})},createSingleTextData:function(e){var t,a="",n=Object(X.a)(e);try{for(n.s();!(t=n.n()).done;){var r,c=t.value,o=Object(X.a)(c.dataElements);try{for(o.s();!(r=o.n()).done;){a+=r.value+"\n"}}catch(i){o.e(i)}finally{o.f()}}}catch(i){n.e(i)}finally{n.f()}return a},handleExtractionCreateButtonCLicked:function(e,t){var a=t,n=this.createSingleTextData(a),r=e.selectedDocuments[0];return Object(f.a)({},e,{textData:n,groupedDocumentElements:a,originalGroupedDocumentElements:Q.a.cloneDeep(a),extractionCreateClickedDocId:r})},moveWithinSameList:function(e,t,a){var n=Array.from(e),r=n.splice(t,1),c=Object($e.a)(r,1)[0];return n.splice(a,0,c),n},handleExtractionListDragEnd:function(e,t,a){var n=Array.from(e.groupedDocumentElements),r=t.groupId,c=n.find((function(e){return e.groupId===r})),o=a.groupId;if(r===o)c.dataElements=this.moveWithinSameList(c.dataElements,t.index,a.index);else{var i=n.find((function(e){return e.groupId===o})),s=c.dataElements.splice(t.index,1),l=Object($e.a)(s,1)[0];i.dataElements.splice(a.index,0,l)}var u=this.createSingleTextData(n);return Object(f.a)({},e,{textData:u,groupedDocumentElements:n,isExtractionListDirty:!0})},handleExtractionSaveAfterEffects:function(e){var t=Q.a.cloneDeep(e.groupedDocumentElements),a=this.createSingleTextData(t);return Object(f.a)({},e,{textData:a,groupedDocumentElements:t,originalGroupedDocumentElements:Q.a.cloneDeep(t),isExtractionListDirty:!1})},handleExtractionDiscardClicked:function(e){var t=Q.a.cloneDeep(e.originalGroupedDocumentElements),a=this.createSingleTextData(t);return Object(f.a)({},e,{textData:a,groupedDocumentElements:t,originalGroupedDocumentElements:Q.a.cloneDeep(t),isExtractionListDirty:!1})}};function Qe(e,t){var a=Object(f.a)({},e);return t===m&&function(e){Object.assign(e,Object(f.a)({},Xe))}(a),Object.assign(a,{currentScreen:t}),a}var Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_SCREEN_CHANGED":return Qe(e,t.screenName);case"HANDLE_CLASSIFICATION_DROP_DOWN_ON_BLUR":return Je.handleClassificationDropDownOnBlur(e,t.dropdownButtonType,t.selectedItems);case"HANDLE_CLASSIFICATION_CREATE_BUTTON_CLICKED":return Je.handleClassificationCreateButtonCLicked(e,t.customerData);case"HANDLE_TABLE_CELL_DATA_CHANGED":return Je.handleTableCellDataChanged(e,t.customerName,t.docName,t.newVal);case"HANDLE_TABLE_SAVE_DISCARD_CLICKED":return Je.handleTableSaveDiscardClicked(e,t.buttonType);case"HANDLE_EXTRACTION_DROP_DOWN_ON_BLUR":return qe.handleExtractionDropDownOnBlur(e,t.dropdownButtonType,t.selectedItems);case"HANDLE_EXTRACTION_CREATE_BUTTON_CLICKED":return qe.handleExtractionCreateButtonCLicked(e,t.groupedElements);case"HANDLE_EXTRACTION_LIST_DRAG_END":return qe.handleExtractionListDragEnd(e,t.source,t.destination);case"SET_CLASSIFICATION_SCREEN_ON_LOAD_DATA":return Je.setClassificationScreenOnLoadData(e,t.customerList,t.documentTypes);case"SET_EXTRACTION_SCREEN_ON_LOAD_DATA":return qe.setExtractionScreenOnLoadData(e,t.documentTypes);case"HANDLE_EXTRACTION_SAVE_AFTER_EFFECTS":return qe.handleExtractionSaveAfterEffects(e);case"HANDLE_EXTRACTION_DISCARD_CLICKED":return qe.handleExtractionDiscardClicked(e);case"HANDLE_NEW_CUSTOMER_ADDED_AFTER_EFFECTS":return Je.handleNewCustomerAddedAfterEffects(e,t.newCustomerData);case"HANDLE_NEW_DOC_TYPE_ADDED_AFTER_EFFECTS":return Je.handleNewDocTypeAddedAfterEffects(e,t.newCustomerData);default:return e}},et=function(e){return Object(E.d)(Ze,e,Object(E.c)(Object(E.a)(Me.a,Object(Ke.createLogger)())))};o.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(o.pdfjs.version,"/pdf.worker.js");var tt=et(ze());Object(c.render)(r.a.createElement(P.a,{store:tt},r.a.createElement(He,null)),document.getElementById("root"))},93:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=93}},[[206,1,2]]]);